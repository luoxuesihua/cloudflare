name = "cloudflare"
main = "src/index.js"
compatibility_date = "2024-01-01"

# 部署前自动编译前端
[build]
command = "cd frontend && npm install && npm run build"

# 静态资源配置 - 服务 Vue 前端
[assets]
directory = "./frontend/dist"
binding = "ASSETS"
not_found_handling = "single-page-application"

# D1 数据库绑定
[[d1_databases]]
binding = "suyuan"
database_name = "suyuank"
database_id = "85ea2866-719e-4fea-a0a1-50737c931724"

# KV 命名空间绑定
[[kv_namespaces]]
binding = "suyuankv"
id = "e9a8ddb59a4f46088c440e1cc43ad856"

[vars]
ENVIRONMENT = "production"
RESEND_API_KEY = "re_NCSnqhQB_CGe2Jwqh4BkrdHcny4cwT2co"
RESEND_FROM = "noreply@suyuank.top"
