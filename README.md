# Suyuank Cloudflare Worker

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ª Cloudflare Worker åº”ç”¨ç¨‹åºï¼Œæä¾›å¸¦æœ‰ç®¡ç†ä»ªè¡¨æ¿çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿã€‚å®ƒåˆ©ç”¨ Cloudflare D1 è¿›è¡Œæ•°æ®æŒä¹…åŒ–ï¼Œä½¿ç”¨ KV è¿›è¡Œä¼šè¯ç®¡ç†ã€‚

## ğŸš€ åœ¨çº¿æ¼”ç¤º

é¡¹ç›®å·²è‡ªåŠ¨éƒ¨ç½²è‡³ï¼š**[https://m.suyuank.top/](https://m.suyuank.top/)**

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- **ç”¨æˆ·è®¤è¯**ï¼š
  - ç”¨æˆ·æ³¨å†Œ (`/register`)
  - ç”¨æˆ·ç™»å½• (`/`)
- **åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶**ï¼š
  - ç¬¬ä¸€ä¸ªæ³¨å†Œçš„ç”¨æˆ·è‡ªåŠ¨è·å¾— `admin`ï¼ˆç®¡ç†å‘˜ï¼‰è§’è‰²ã€‚
  - åç»­ç”¨æˆ·é»˜è®¤ä¸º `user`ï¼ˆæ™®é€šç”¨æˆ·ï¼‰è§’è‰²ã€‚
- **ç®¡ç†ä»ªè¡¨æ¿**ï¼š
  - è®¿é—®è·¯å¾„ `/admin`ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰ã€‚
  - æŸ¥çœ‹æ‰€æœ‰æ³¨å†Œç”¨æˆ·åˆ—è¡¨ã€‚
- **æŠ€æœ¯æ ˆ**ï¼š
  - **è¿è¡Œç¯å¢ƒ**: Cloudflare Workers
  - **æ•°æ®åº“**: Cloudflare D1 (ç»‘å®šåç§°: `suyuan`)
  - **ä¼šè¯å­˜å‚¨**: Cloudflare KV (ç»‘å®šåç§°: `suyuankv`)

## ğŸ› ï¸ å¼€å‘æŒ‡å—

è¦åœ¨æœ¬åœ°è¿è¡Œæ­¤é¡¹ç›®ï¼Œä½ éœ€è¦å®‰è£… [Wrangler](https://developers.cloudflare.com/workers/wrangler/install-and-update/)ã€‚

1. **å®‰è£…ä¾èµ–**ï¼š
   ```bash
   npm install
   ```

2. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**ï¼š
   ```bash
   npm run dev
   ```

3. **éƒ¨ç½²**ï¼š
   ```bash
   npm run deploy
   ```

## ğŸ“‚ é¡¹ç›®ç»“æ„

- `src/index.js`: ä¸»è¦åº”ç”¨ç¨‹åºé€»è¾‘ï¼ˆAPI ç«¯ç‚¹å’Œ HTML æ¸²æŸ“ï¼‰ã€‚
- `wrangler.toml`: Cloudflare Workers é…ç½®æ–‡ä»¶ã€‚
- `.github`: ç”¨äºè‡ªåŠ¨éƒ¨ç½²çš„ GitHub Actions å·¥ä½œæµã€‚
